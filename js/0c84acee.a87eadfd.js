(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["0c84acee","7bff81aa"],{"365c":function(t,e,n){"use strict";n.d(e,"f",function(){return s}),n.d(e,"e",function(){return i}),n.d(e,"a",function(){return r}),n.d(e,"g",function(){return o}),n.d(e,"i",function(){return c}),n.d(e,"b",function(){return l}),n.d(e,"h",function(){return u}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});n("551c"),n("f751");var a=n("be3b");function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="/topics",n={page:1,limit:20,tab:"all",mdrender:!0},s=Object.assign({},n,t);return a["a"].get(e,{params:s}).then(function(t){return Promise.resolve(t.data)}).catch(function(t){return Promise.reject(t)})}function i(t,e){var n=e?"/topic/".concat(t,"?accesstoken=").concat(e):"/topic/".concat(t);return a["a"].get(n).then(function(t){return Promise.resolve(t.data)}).catch(function(t){return Promise.reject(t)})}function r(t){var e="/accesstoken";return a["a"].post(e,{accesstoken:t}).then(function(t){return Promise.resolve(t.data)}).catch(function(t){return Promise.reject(t)})}function o(t){var e="/user/".concat(t);return a["a"].get(e).then(function(t){return Promise.resolve(t.data)}).catch(function(t){return Promise.reject(t)})}function c(t){var e="/reply/".concat(t,"/ups");return a["a"].post(e).then(function(t){return Promise.resolve(t.data)}).catch(function(t){return Promise.reject(t)})}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="/topics";return a["a"].post(e,t).then(function(t){return Promise.resolve(t.data)}).catch(function(t){return Promise.reject(t)})}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="/topic/".concat(t,"/replies");return a["a"].post(n,e).then(function(t){return Promise.resolve(t.data)}).catch(function(t){return Promise.reject(t)})}function d(t){var e="/topic_collect/collect",n={topic_id:t};return a["a"].post(e,n).then(function(t){return Promise.resolve(t.data)}).catch(function(t){return Promise.reject(t)})}function f(t){var e="/topic_collect/".concat(t);return a["a"].get(e).then(function(t){return Promise.resolve(t.data)}).catch(function(t){return Promise.reject(t)})}},"60c1":function(t,e,n){},6510:function(t,e,n){},"665e":function(t,e,n){"use strict";var a=n("60c1"),s=n.n(a);s.a},7325:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},[n("div",{staticClass:"list-content"},[n("article-list",{attrs:{pullup:"",data:t.list,list:t.list,loading:t.loading,end:t.end,"no-result":t.noResult},on:{scrollToEnd:t.loadMore}})],1)])},s=[];a._withStripped=!0;n("7f7f");var i=n("3156"),r=n.n(i),o=n("b5bc"),c=n("365c"),l=n("2f62"),u=n("6262"),d={components:{ArticleList:o["default"]},data:function(){return{loading:!0,end:!1,noResult:!1,list:[],hasDone:!1,params:{page:1,limit:20,tab:this.$route.query.tab||"all"}}},created:function(){this.setTitle(),this._getTopics()},computed:{tab:function(){return this.$route.query.tab||"all"}},methods:r()({},Object(l["c"])(["SET_TITLE"]),{setTitle:function(){var t=this.$route.query.tab,e=this.$route.name,n=Object(u["a"])(t,!1,!1,"text");t&&n&&"List"===e?this.SET_TITLE(n):this.SET_TITLE("全部")},loadMore:function(t,e){this.hasDone||(this.hasDone=!0,this._getTopics())},_getTopics:function(t){var e=this;Object(c["f"])(this.params).then(function(t){if(!t.data.length)return e.params.page>1?e.end=!0:e.noResult=!0,void(e.loading=!1);e.list=e.list.concat(t.data),e.hasDone=!1,e.params.page++})}}),watch:{$route:function(t,e){"List"===t.name&&this.setTitle()}}},f=d,p=n("2877"),v=Object(p["a"])(f,a,s,!1,null,null,null);v.options.__file="list.vue";e["default"]=v.exports},"83c8":function(t,e,n){"use strict";var a=n("6510"),s=n.n(a);s.a},b5bc:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("scroll",t._g(t._b({},"scroll",t.$attrs,!1),t.$listeners),[n("div",{staticClass:"article-list"},[t._l(t.list,function(e,a){return n("div",{key:a,staticClass:"article",on:{click:function(n){t.handleClick(e)}}},[n("div",{staticClass:"article-top"},["list"===t.type?n("div",{staticClass:"article-tag",style:{"background-color":t.getArticleTag(e.tab,e.good,e.top,"color")}},[t._v("\n          "+t._s(t.getArticleTag(e.tab,e.good,e.top,"text"))+"\n        ")]):t._e(),n("div",{staticClass:"article-title",domProps:{innerHTML:t._s(e.title)}})]),n("div",{staticClass:"article-content"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.author.avatar_url,expression:"article.author.avatar_url"}],staticClass:"avatar"}),n("div",{staticClass:"article-info"},[n("div",{staticClass:"info-top"},[n("div",{staticClass:"author-name"},[t._v(t._s(e.author.loginname))]),"list"===t.type?n("div",{staticClass:"article-status"},[n("span",{staticClass:"replay-count"},[t._v(t._s(e.reply_count))]),t._v("/\n              "),n("span",{staticClass:"visit-count"},[t._v(t._s(e.visit_count))])]):n("span",{staticClass:"last-reply"},[t._v(t._s(t.formatDate(e.last_reply_at)))])]),"list"===t.type?n("div",{staticClass:"info-bottom"},[n("span",{staticClass:"time"},[t._v(t._s(t.formatDate(e.create_at)))]),n("span",{staticClass:"last-reply"},[t._v(t._s(t.formatDate(e.last_reply_at)))])]):t._e()])])])}),n("list-loading",t._b({},"list-loading",t.$attrs,!1))],2)])},s=[];a._withStripped=!0;n("d479");var i=n("6262"),r=n("c466"),o=n("ef39"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list-loading"},[n("div",{staticClass:"row justify-center"},[t.loading?n("q-spinner-dots",{attrs:{slot:"message",size:40},slot:"message"}):t._e(),t.end?n("div",{staticClass:"end"},[t._v("\n      到底啦\n    ")]):t._e()],1),t.noResult?n("no-result"):t._e()],1)},l=[];c._withStripped=!0;var u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"no-result"},[n("div",{staticClass:"no-result row justify-center"},[n("q-icon",{staticClass:"iconfont",attrs:{name:"icon-no-result",size:"30px"}}),n("span",{staticClass:"text"},[t._v(t._s(t.text))])],1)])},d=[];u._withStripped=!0;var f={props:{text:{type:String,default:"暂无数据"}}},p=f,v=(n("83c8"),n("2877")),_=Object(v["a"])(p,u,d,!1,null,null,null);_.options.__file="no-result.vue";var h=_.exports,m={inheritAttrs:!1,components:{NoResult:h},props:{loading:{type:Boolean,default:!0},end:{type:Boolean,default:!1},noResult:{type:Boolean,default:!1}}},g=m,b=(n("665e"),Object(v["a"])(g,c,l,!1,null,null,null));b.options.__file="list-loading.vue";var C=b.exports,y={inheritAttrs:!1,components:{Scroll:o["a"],ListLoading:C},props:{list:{type:Array},type:{type:String,default:"list"}},methods:{handleClick:function(t){this.$router.push({name:"Topic",params:{id:t.id}})},getArticleTag:function(t,e,n,a){return Object(i["a"])(t,e,n,a)},formatDate:function(t){return Object(r["a"])(t)}}},j=y,T=Object(v["a"])(j,a,s,!1,null,null,null);T.options.__file="article-list.vue";e["default"]=T.exports},d479:function(t,e,n){}}]);